extends ../layout

block content
  main.main--add-author
    div.mdl-grid
      div.mdl-cell.mdl-cell--4-col.mdl-cell--4-col-tablet.mdl-cell--4-col-phone
          form#add-author__form(action= author ? "/authors/" + author.auth_id + "/edit?_method=PUT" : "/authors/new", method="POST")

              div.mdl-textfield.mdl-js-textfield.mdl-textfield--floating-label
                input#firstName.mdl-textfield__input(type="text", name="title"
                value=author ? author.first_name : '')
                label.mdl-textfield__label.g-reads-label--dark(for="title") First Name
                span.mdl-textfield__error Please enter a first name

              div.mdl-textfield.mdl-js-textfield.mdl-textfield--floating-label
                label.mdl-textfield__label.g-reads-label--dark(for="genre") Last Name
                input#lastName.mdl-textfield__input(type="text", name="genre"
                value=author ? author.last_name : '')
                span.mdl-textfield__error Please enter a last name

              div.mdl-textfield.mdl-js-textfield.mdl-textfield--floating-label
                input#bioUrl.mdl-textfield__input(name="bioUrl" type="text" value=author ? author.url : '')
                label.mdl-textfield__label.g-reads-label--dark(for="bioURL") Portrait URL
                span.mdl-textfield__error Please provide a URL to an image

              div.mdl-textfield.mdl-js-textfield
                textarea#biography.mdl-textfield__input(name="bipgraphy", type="text")
                  if author
                    = author.biography
                label.mdl-textfield__label.g-reads-label--dark(for="description") Biography
                span.mdl-textfield__error Please enter a biography

              div#booksWritten
                if author
                  each book in author.booksWritten
                    div.mdl-grid
                      div.mdl-cell.mdl-cell--10-col.mdl-cell--7-col-tablet.mdl-cell--3-col-phone
                        input.mdl-textfield__input(name="title", value=book.title)
                        
                      div.mdl-cell.mdl-cell--1-col.mdl-cell--1-col-tablet.mdl-cell--1-col-phone
                        a(href="")
                          i.material-icons.remove-book clear
                  

              div.add-books-written
                div.mdl-grid
                  div.mdl-cell.mdl-cell--10-col.mdl-cell--7-col-tablet.mdl-cell--3-col-phone
                    div.mdl-textfield.mdl-js-textfield.mdl-textfield--floating-label
                      input#bookInput.mdl-textfield__input(type="text")
                      label.mdl-textfield__label.g-reads-label--dark(for="booksInput") Book(s) written
                      span.mdl-textfield__error Please enter at least one book title for this author
                  div.mdl-cell.mdl-cell--1-col.mdl-cell--1-col-tablet.mdl-cell--1-col-phone
                    button#addBooks.mdl-button.mdl-js-button.mdl-button--fab.mdl-js-ripple-effect
                      i.material-icons add



              button#addAuthor.mdl-button.mdl-js-button.mdl-button--raised.mdl-button--accent.mdl-js-ripple-effect(type="submit") 
                if author 
                  | Update
                else 
                  | Add Author

  include ../partials/footer
  
  script(src="/static/js/add-author-form.js")
  

  
